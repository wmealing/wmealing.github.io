<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-10-27 Mon 15:51 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GNUCOBOL "SCREEN" and keyboard input.</title>
<meta name="generator" content="Org Mode" />
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta http-equiv="Content-Security-Policy" content="style-src-elem 'self' https://wmealing.github.io;">
<link rel="stylesheet" href="index.css">
<meta name="author" content="Wade Mealing" />
<meta name="description" content="basic gnucobol screen and keyboard input" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">GNUCOBOL "SCREEN" and keyboard input.</h1>
<p>
This example below uses gnuCOBOL's idea of "SCREENS".  Screens are method of displaying
ncurses/curses style displays with labels and keyboard inputs (I read that mouse inputs
may be possible, but not in this demo.)
</p>

<p>
This code may work on other versions of COBOL, but I have not tested. I'm going to use
CAPS in my code, deal with it.
</p>

<p>
Below is the complete program that can be compiled at the shell with the command line:
</p>

<div class="org-src-container">
<pre class="src src-sh">cobc -xF simple-question.cob -o simple-question
</pre>
</div>

<p>
And the cobol code:
</p>

<div class="org-src-container">
<pre class="src src-cobol"><span class="linenr"> 1: </span>IDENTIFICATION DIVISION.
<span class="linenr"> 2: </span>PROGRAM-ID. SAMPLE.
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span>ENVIRONMENT DIVISION.
<span class="linenr"> 5: </span>CONFIGURATION SECTION.
<span class="linenr"> 6: </span>SPECIAL-NAMES.
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>INPUT-OUTPUT SECTION.
<span class="linenr"> 9: </span>FILE-CONTROL.
<span class="linenr">10: </span>
<span class="linenr">11: </span>DATA DIVISION.
<span class="linenr">12: </span>FILE SECTION.
<span class="linenr">13: </span>
<span class="linenr">14: </span>WORKING-STORAGE SECTION.
<span class="linenr">15: </span>01  RESPONSE.
<span class="linenr">16: </span>  05  RESPONSE-IN-WS     PIC X(2).
<span class="linenr">17: </span>
<span class="linenr">18: </span>SCREEN SECTION.
<span class="linenr">19: </span>01 SIMPLE-QUESTION-SCREEN.
<span class="linenr">20: </span>   05  VALUE "SIMPLE QUESTION SCREEN" BLANK SCREEN       LINE 1 COL 35.
<span class="linenr">21: </span>   05  VALUE "ANSWER YES OR NO!  Y/N: "                  LINE 2 COL 1.
<span class="linenr">22: </span>   05  RESPONSE-INPUT                                    LINE 2 COL 25
<span class="linenr">23: </span>       PIC X TO RESPONSE-IN-WS.
<span class="linenr">24: </span>
<span class="linenr">25: </span>PROCEDURE DIVISION.
<span class="linenr">26: </span>   DISPLAY SIMPLE-QUESTION-SCREEN.
<span class="linenr">27: </span>   ACCEPT SIMPLE-QUESTION-SCREEN.
<span class="linenr">28: </span>   STOP RUN.
<span class="linenr">29: </span>
</pre>
</div>

<p>
Starting at the "meat" of the demonstration, the "SCREEN SECTION".
</p>

<div class="org-src-container">
<pre class="src src-cobol"><span class="linenr">18: </span>SCREEN SECTION.
<span class="linenr">19: </span>01 SIMPLE-QUESTION-SCREEN.
<span class="linenr">20: </span>   05  VALUE "SIMPLE QUESTION SCREEN" BLANK SCREEN       LINE 1 COL 35.
<span class="linenr">21: </span>   05  VALUE "ANSWER YES OR NO!  Y/N: "                  LINE 2 COL 1.
<span class="linenr">22: </span>   05  RESPONSE-INPUT                                    LINE 2 COL 25
<span class="linenr">23: </span>       PIC X TO RESPONSE-IN-WS.
</pre>
</div>

<p>
The "SCREEN SECTION" is instructions for the "DISPLAY" function to layout and handle basic layout on the screen.  Specific line and column need to be specified to ensure that the labels and input boxes are exactly as requested. (PROTIP: draw them out in a text editor with fixed width fonts before coding up a screen, it will save you time in more complex scenarios.)
</p>

<div class="org-src-container">
<pre class="src src-COBOL"><span class="linenr">25: </span>PROCEDURE DIVISION.
<span class="linenr">26: </span>   DISPLAY SIMPLE-QUESTION-SCREEN.
<span class="linenr">27: </span>   ACCEPT SIMPLE-QUESTION-SCREEN
</pre>
</div>

<p>
The "DISPLAY" function shows the screen. The "ACCEPT" function deals with the inputs
from the user.  In this case it is simply a Y/N answer and the result is stored in "RESPONSE-IN-WS".
</p>

<p>
It is useful to know that you may wish to create more complex interfaces where you could
call multiple DISPLAYS, even though part of them may not be interactive at this stage
in the program.
</p>

<p>
NB. I'm gradually improving my understanding of "State" diagrams that many cobol sites used to explain
the function diagrams.  These are not intuitive and must be understood to grow as a developer.
</p>

<p>
And the final running example:
</p>


<div id="org219ff22" class="figure">
<p><img src="https://imgur.com/QceI3Rvl.png" alt="QceI3Rvl.png" />
</p>
</div>
<div id="outline-container-org565cf4c" class="outline-2">
<h2 id="org565cf4c">Resources:</h2>
<div class="outline-text-2" id="text-org565cf4c">
<ul class="org-ul">
<li><a href="https://gnucobol.sourceforge.io/HTML/gnucobpg.html#SCREEN-SECTION">gnuCOBOL SCREEN section</a></li>
<li><a href="http://savannah.gnu.org/forum/forum.php?forum_id=9910">Changelog showing 'initial mouse support' in gnuCobol screen io.</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2025-10-27 Mon 15:51</p>
</div>
</body>
</html>
